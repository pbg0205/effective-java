# 아이템15. 클래스와 멤버의 접근 권한을 최소화하라.

### 1. 정보은닉 & 캡슐화

클래스와 멤버 접근 권한을 최소화의 목적은 캡슐화를 지키자는 내용이다. 클래스를 사용하는 이유는 멤버를 캡슐화하고 정보를 은닉하여 편리한 개발을 하고자 함이다. 책에서 언급한 정보 은닉의 장점은 개발 속도, 관리 비용, 코드 재사용, 제작 난이도를 낮추는 효과가 있다. 정보 은닉은 결국 객체지향 프로그래밍과 연결된다. 객체가 데이터를 직접 관리하고 메세지를 기반으로 통신함으로써 앞서 언급한 장점들을 실현시킬 수 있다. 접근 권한의 최소화는 SRP의 기본이다. 데이터의 접근 권한을 좁히면 자연스럽게 클래스가 직접 데이터를 관리할 수 밖에 없다. 결국 클래스 내부에서 로직을 담당할 수 밖에 없는 구조로 만들어준다.


<img width="711" alt="image" src="https://user-images.githubusercontent.com/48561660/154975750-f9c1a1e7-da8b-4a7c-aec0-86f9e3f0c2d5.png">

접근 권한을 최소화하는 기본적인 방법은 점차적으로 접근제한자(private → private-package → protected → public)의 범위를 넓히는 것이다. 코드를 작업하다보면 놓치기 가장 쉬운 것 중 하나가 접근제한자이다. 주로 처음 멤버, 메서드, 클래스를 선언함과 동시에 접근제한자를 선언한다. public으로 선언한 멤버는 나중에 가서 접근 제한을 변경하기 어렵다. 그러므로 가능한 가장 범위가 좁은 접근제한자를 사용하는 것이 가장 좋은 방법인 것 같다.

### 2. 클래스 & 멤버 접근제한자 사용 규칙

1. 인스턴스 필드는 되도록이면 private를 선언하도록 하자.
2. 다른 패키지와 통신할 수준이 아니라면 private-package를 선언하도록 하자.
3. 만약 public static final을 선언하고 싶은 경우 상수가 참조하는 객체가 불변임을 보장하거나 복사본을 사용하자.

```java
private static final final Ting[] PRIVATE_VALUES = {...};

//1. 불변
public static final List<Thing> VALUES = 
		Collections.unmodifiableList(Arrays.asList(PRIVATE_VALUES));

//2. 복사본
public static final Thing[] values() {
		return PRIVATE_VALUES.clone();
}

```

### 3. 모듈 시스템

자바9에서부터 모듈 시스템이라는 개념이 도입되며 암묵적 접근 수준이 추가되었다.

- 자바9 부터 접근 제한자
    - 모듈 내부의 public : 모듈 내부 모든 곳에서 접근 가능
    - required의 public : 모듈에 종속하는 모듈의 모든 패키지 내 클래스 접근 가능
    - export public : module-info.java에서 제공하는 모든 public에 접근할 수 있다.

모듈은 패키지들의 묶음을 지칭하며 클래스가 public 또는 protected 일지라도 패키지를 공개하지 않는다면 외부에서 접근할 수 없다. 모듈 시스템을 활용하면 클래스 외부에서 공개하지 않으면서 같은 모듈을 이루는 패키지 사이에서는 공유할 수 있다. 또한 어플리케이션에 클래스패스를 사용할 경우, 패키지는 마치 모듈이 없는 것처럼 행동한다.